 <!-- <div style="height: 100%; width: 100%"></div> -->
 <div class="component-title">
        <div class="col-lg-6" style="margin:auto;">
                <div class="headingIcons">
                        <i class="rec-font-stream iconStyle"></i>
                    </div>
            <h4 class="no-mb">Data Capture</h4>
		</div>
		<div class="col-lg-6 customToggleTabs">
				<button md-icon-button  class="pull-right" (click)="openSources()"	mdTooltip="Process By Template">
						<md-icon>add</md-icon>
					</button>
				<md-button-toggle-group style="float:right;top:8px" name="profileStatus" #selectedProfileStatus="mdButtonToggleGroup" (change)="fetchSourceProfiles($event)">
						<md-button-toggle *ngFor="let status of statusList; let i=index" [value]="i" [checked]="i == 0 ? true : false">{{status}}</md-button-toggle>
					</md-button-toggle-group>
				<input type="text" class="form-control search-input" style="margin-right:10px;float:right;" [(ngModel)]="sourceProfilesService.searchData" placeholder="Search.." (ngModelChange)="searchProfileData()">
				
					<div class="source-list-styles" *ngIf="showSources" >
							<!--border-bottom: 1px solid black;-->
							<div class="row source-style " >
								<div>
								<a (click)="myTypeScriptFunction('CHASE')">
									<img  alt="chase" src="../../../content/images/sources/chase.jpg" style="width:120px;height: 38px;margin-top: 25px;" class="img-styles">
								</a></div>	
								<div>
								<a (click)="myTypeScriptFunction('BAI2')">
										<img  alt="Bai2" src="../../../content/images/sources/bai.jpg"  class="img-styles">
										</a>
									</div>
									<div>
									<a (click)="myTypeScriptFunction('BANK_OF_AMERICA')">
										<img  alt="Bank Of America" src="../../../content/images/sources/boa.png"  style="width: 120px;height: 59px;margin-top: 4px;"class="img-styles">
										</a>
									</div>
									<div>
										<a (click)="myTypeScriptFunction('WELLS_FARGO')">
												<img  alt="Wells Fargo" src="../../../content/images/sources/wellsforgo.jpeg"  class="img-styles">
												</a>
											</div>
											<div>
									<a (click)="myTypeScriptFunction('BRAINTREE')">
									<img  alt="Braintree" src="../../../content/images/sources/braintree.png" style="width:120px;" class="img-styles">
									</a>
								</div>
								<div>
									<a (click)="myTypeScriptFunction('CITI')">
											<img  alt="Citibank" src="../../../content/images/sources/citibank.jpeg"  class="img-styles">
											</a>
										</div>
										<div>
									<a (click)="myTypeScriptFunction('JPMORGAN')">
									<img  alt="jpmorgan" src="../../../content/images/sources/jpmorgan.png"  style="width: 120px;" class="img-styles">
									</a>
								</div>
								<div>
									<a (click)="myTypeScriptFunction('AMEX')">
											<img  alt="Amex" src="../../../content/images/sources/amex.svg" class="img-styles">
											</a>
										</div>
										<div>
									<!-- <img  alt="Lockbox" src="../../../content/images/sources/lockbox.png"  class="img-styles"> -->
									<a (click)="myTypeScriptFunction('PAYPAL')">
									<img  alt="Paypal" src="../../../content/images/sources/paypal.jpg"  style="width:120px;" class="img-styles">
									</a>
								</div>
								<div>
								
									<a (click)="myTypeScriptFunction('WORLDPAY')">
									<img  alt="World pay" src="../../../content/images/sources/worldpay.jpg"  class="img-styles">
									</a>
								</div>
								<div>
									<a (click)="myTypeScriptFunction('OTHERS')">
											<img  alt="Others" src="../../../content/images/sources/others.png" style="width: 100px;height: 70px;" class="img-styles">
									</a>							
								</div>		
							</div>
							<div class="row" style="padding-top: 10px;    margin-left: 0px;	margin-right: 0px;	border-top: 1px solid lightgray;">
								<span style="font-weight: bold;padding-left: 17px;padding-bottom: 6px;">Process through dropzone</span>
								<div class="col-md-1"></div>
								<div class="col-md-10">
									<div ng2FileDrop [ngClass]="{'nv-file-over': hasBaseDropZoneOver}" (fileOver)="fileOverBase($event)" (onFileDrop)="onFileDrop($event)"
									(click)="singleFile.click()" [uploader]="uploader" class="well my-drop-zone hand" mdTooltip="Click or Drop Files Here">
									   <i class="material-icons cloudupload" style="margin: auto;" *ngIf=!enableLineInfo>cloud_upload</i>
									   <i class="material-icons cloudsuccess"  style="margin: auto;" *ngIf=enableLineInfo>cloud_done</i>
								   </div>
								   <input type="file" ng2FileSelect [uploader]="uploader" #singleFile #file (change)="fileChange(file)" style="display: none;"
								   />
								</div>
								<div class="col-md-1"></div>
								
							</div>
							<div style="margin-left: -8px !important;word-wrap: break-word;">
								
									<span *ngIf="uploader && uploader.queue && uploader.queue[0] && uploader.queue[0].file && uploader.queue[0].file.name">{{uploader.queue[0].file.name}}</span>
							
							
									<i *ngIf="spin" class="fa fa-spinner fa-spin" style="font-size: 24px"></i>
									<i *ngIf="uploadedIcon" class="fa fa-check" style="font-size: 20px"></i>
							
							</div>
							<!-- <span (click)="openTemplateDialog=true" class="pull-right hand" style="padding-right:  16px;font-weight:  bold;">Process
															through drop area</span> -->
	
						 </div> 
					
			</div>
    </div>
<div class="component-body ETLWQ "  style="padding: 0 5px;">
		<div class="etl-profile-creation">
				<p-dialog [resizable]="false" [responsive]="true" [(visible)]="openTemplateDialog" [modal]="true">
					<p-header>
					<span>
							Create Pipeline and transform 
					</span>
					<span *ngIf="templateName">
						- {{templateName}}
					</span>
					</p-header>
					<form novalidate #templateForm="ngForm">
						
				<div class="etl-templates" style="margin-top: 20px;" id ="steps">
				<!-- <div style="border-bottom: 1px solid lightgray;padding-bottom: 25px;margin-left: 0px;margin-right: 0px;"> -->
					<!-- <p-steps [model]="items" styleClass="steps-custom" [(activeIndex)]="activeIndex" >
					
					</p-steps> -->
					<div class="col-md-12 col-sm-12 col-xs-12 etl-pipeline-creation"  *ngIf="sampleTemplatesList && sampleTemplatesList.length>0" >
						<md-tab-group (focusChange)="activeIndex = $event.index" [selectedIndex]="activeIndex">
							<md-tab *ngFor="let item of items;let i =index" [disabled]=" !templateForm.valid || !sourceProfileAndTemplate.templateId">
								<ng-template md-tab-label >
									{{item.label}} 
				
								</ng-template>
								<div class="demo-tab-content">
								</div>
							</md-tab>
						</md-tab-group> 
					</div>
				<!-- </div> -->
					<div  *ngIf="activeIndex ==0 && sampleTemplatesList && sampleTemplatesList.length>0" style="padding-top:1px;padding-left: 5px;">
						<!-- <div class="ng-tns-c30-54" style="font-weight:  bold;margin-top: 14px;"><span class="ng-tns-c30-54">Choose template</span></div> -->
						<div class="col-md-8" style="margin-top: 35px; display: flex;flex-direction: column;height: 450px;max-height: 450px;overflow-y: auto;padding-left: 0px;" *ngIf="!matchForTemplates"> 
							<div style="    border: 1px solid lightgray;" >
							
							<ng-template ngFor let-temp [ngForOf]="sampleTemplatesList" let-childIndex="index" >
								<div class="source-template-style hand" [ngClass]="(selectedTemplateIndex == childIndex)? 'select-template' : ''"
								 style="border-bottom: 1px solid rgba(0, 0, 0, 0.125);padding: 0.75rem 1.25rem;" (click)="assignTemplate(temp);selectedTemplateIndex=childIndex;">
									<span class="hand" style="word-wrap: break-word;"  *ngIf="temp && temp.templateName">{{temp.templateName}}
										
									</span>
									<span style="font-size: 10px;padding-left: 6px;" *ngIf="temp && temp.defaultTemplate == true">
										Default
									</span>
									<span style="font-size: 10px;padding-left: 6px;" *ngIf="temp && temp.defaultTemplate == false">
										User Defined
									</span>
								</div>
									
							</ng-template>
						</div>
						</div>
						<div class="col-md-6" style="margin-top: 15px; display: flex;flex-direction: column;overflow-y: auto;height: 500px;" *ngIf="matchForTemplates"> 
							<ng-template ngFor let-temp [ngForOf]="dataManagementWqService.matchedTemplates" let-childIndex="index" >
								<div class="source-template-style"	[ngClass]="(selectedTemplateIndex == childIndex)? 'select-template' : ''" style="border: 1px solid rgba(0, 0, 0, 0.125);padding: 0.75rem 1.25rem;" >
										<span class="hand" style="word-wrap: break-word;" 
										(click)="assignTemplate(temp);selectedTemplateIndex=childIndex;" *ngIf="temp && temp.templateName">{{temp.templateName}}</span>
								</div>
									
							</ng-template>
						</div>
							<!-- <ng-template  class="source-template-style"  *ngFor="let temp of sampleTemplatesList;let childIndex=index">
								
							</ng-template> -->
							
					</div>
					<div *ngIf="activeIndex ==1 && sampleTemplatesList && sampleTemplatesList.length>0">

							<div class="row"  style="padding-top: 22px;">
									
									<div class="col-md-8">
											<div style="padding: 25px 5px 0px 5px;">
										<md-input-container class="example-full-width">
											<input mdInput [(ngModel)]="sourceProfileAndTemplate.sourceProfileName" [ngClass]="{'color-black' : isViewOnly}" [disabled]="isViewOnly"
											 placeholder="Pipeline" (ngModelChange)="checkSourceProfileName($event)" name="sourceProfileName" required #sourceProfileName="ngModel">
										</md-input-container>
										</div>
										<div style="padding: 25px 5px 0px 5px;">

										<md-select placeholder="Connection Name" required [(ngModel)]="sourceProfileAndTemplate.connectionId" [ngClass]="{'color-black' : isViewOnly}"
										[disabled]="isViewOnly" name="connectionName">
										   <perfect-scrollbar style="height: 200px;">
											   <md-option *ngFor="let connection of connectionDetailsList" [value]="connection.idForDisplay">
												   <ng-container>
													   <span (click)="sourceProfileAndTemplate.connectionName=connection.name">
														   {{connection.name}}
														   <img *ngIf="connection.connectionType == 'GOOGLE_DRIVE'" alt="google-drive" src="../../../content/images/Google-Drive-icon.png"
															style="width: 20px; height: 20px; margin-top: -4px;">
														   <img *ngIf="connection.connectionType == 'DROP_BOX'" alt="drop-box" src="../../../content/images/Dropbox_Icon_2017.png" 
														   style="width: 20px; height: 20px; margin-top: -4px;">
														   <img *ngIf="connection.connectionType == 'SFTP'" alt="sftp" src="../../../content/images/sftp.png" 
														   style="width: 20px; height: 20px; margin-top: -4px;">
													   </span>
												   </ng-container>
											   </md-option>
										   </perfect-scrollbar>
									   </md-select>
									   </div>
										<!-- <div style="padding-top: 20px" class="display-flex">
											<div>
												<button md-icon-button>
													<md-icon>device_hub</md-icon>
												</button>
											</div>
											<div style="width:100%">
											
											</div>
										</div> -->
										<!-- <div style="display:flex;flex-direction:column;border: 1px solid lightgray;"> -->
											<div style="padding: 15px 5px 0px 5px;">
												<md-input-container class="example-full-width ">
													<input mdInput [(ngModel)]="sourceProfileAndTemplate.fileNameFormat" placeholder="File Name Format" [ngClass]="{'color-black' : isViewOnly}"
													 required name="fileNameFormat_{{i}}" #fileNameFormat_{{i}}="ngModel" required>
												</md-input-container>
											</div>
											<div style="padding: 25px 5px 0px 5px;">
												<md-input-container class="example-full-width ">
													<input mdInput [(ngModel)]="sourceProfileAndTemplate.fileExtension" placeholder="File Extension" required name="fileExtension_{{i}}"
													 #fileExtension_{{i}}="ngModel"> </md-input-container>
											</div>
											<div style="padding: 25px 5px 0px 5px;">
												<md-input-container class="example-full-width ">
													<input mdInput [(ngModel)]="sourceProfileAndTemplate.fileDescription" placeholder="File Description" name="fileDescription_{{i}}"
													 #fileDescription_{{i}}="ngModel">
												</md-input-container>
											</div>
											<div style="padding: 25px 5px 0px 5px;">
												<md-input-container class="example-full-width ">
													<input mdInput [(ngModel)]="sourceProfileAndTemplate.sourceDirectoryPath" placeholder="Source Directory Path" required name="sourceDirectoryPath_{{i}}"
													 #sourceDirectoryPath_{{i}}="ngModel" required>
												</md-input-container>
											</div>
											<div class="display-flex chbox-sm" style="padding: 25px 5px 0px 5px;">
												<p>
													<p style="font-size:12px;white-space:nowrap;">Extract and Transform</p>
													<md-checkbox style="padding-left:6px" class="hand" [(ngModel)]="sourceProfileAndTemplate.extractAndTransform" mdTooltip="Extract and Transform"
													 [ngModelOptions]="{standalone: true}">
													</md-checkbox>
												</p>
											</div>
										
										<!-- </div> -->
									</div>
									
								</div>
								<!-- <div class="row" style="padding:29px 0px 4px 0px">
									
									<div class="col-md-6">
										<md-select placeholder="Connection Name" (change)="getConnectionDetails()" required [(ngModel)]="sourceProfile.connectionId"
										 [ngClass]="{'color-black' : isViewOnly}" [disabled]="isViewOnly" name="connectionName">
											<perfect-scrollbar style="height: 200px;">
												<md-option *ngFor="let connection of connectionDetails" [value]="connection.id">{{connection.name}}</md-option>
											</perfect-scrollbar>
										</md-select>
							
									</div>
								</div> -->

					</div>
					<div *ngIf="activeIndex == 2 && sampleTemplatesList && sampleTemplatesList.length>0" style="padding-top: 40px">
		
						<div class="display-flex" style="padding: 15px;">
							<div class="col-md-4">Pipeline</div>
							<div class="col-md-4">{{sourceProfileAndTemplate.sourceProfileName}}</div>
						</div>
						<div class="display-flex" style="padding: 15px;">
							<div class="col-md-4">Connection Name</div>
							<div class="col-md-4">{{sourceProfileAndTemplate.connectionName}}</div>
						</div>
						<div class="display-flex" style="padding: 15px;">
							<div class="col-md-4">File Name Format</div>
							<div class="col-md-4">{{sourceProfileAndTemplate.fileNameFormat}}</div>
						</div>
						<div class="display-flex" style="padding: 15px;">
							<div class="col-md-4">File Extension</div>
							<div class="col-md-4">{{sourceProfileAndTemplate.fileExtension}}</div>
						</div>

						<div class="display-flex" style="padding: 15px;">
							<div class="col-md-4">File Description</div>
							<div class="col-md-4">{{sourceProfileAndTemplate.fileDescription}}</div>
						</div>
						<div class="display-flex" style="padding: 15px;">
							<div class="col-md-4">Source Directory Path</div>
							<div class="col-md-4">{{sourceProfileAndTemplate.sourceDirectoryPath}}</div>
						</div>
						<div class="display-flex" style="padding: 15px;">
							<div class="col-md-4">Extract and Transform</div>
							<div class="col-md-4">{{sourceProfileAndTemplate.extractAndTransform}}</div>
						</div>
					</div>
				</div>
				<span *ngIf=" sampleTemplatesList && sampleTemplatesList.length<=0">
						No data templates found for {{sourceType}}.
						<span  [routerLink]="['/file-templates', {outlets: { 'content': ['filetemplate-new']}}]" class="hand underline-class"> Create New Data Template</span>
				</span>
				
				</form>
					<p-footer>
							<button md-button style="background-color: #238792;color: white;" *ngIf="activeIndex>0" (click)="activeIndex = (activeIndex-1)">Back</button>
							<button md-button style="background-color: #238792;color: white;" *ngIf="activeIndex<2"  [disabled]="(!templateForm.valid || !sourceProfileAndTemplate.templateId)"  (click)="activeIndex = (activeIndex+1)">Next</button>
							<button md-button style="background-color: #238792;color: white;" *ngIf="activeIndex==2"  [disabled]="!templateForm.valid || !sourceProfileAndTemplate.templateId" (click)="saveProfile()" >Save Profile</button>
						
						</p-footer>
				</p-dialog>
			
		</div>
		<!-- <div class="etl-header component-title">
				 <div class="headingIcons">
						<i class="rec-font-ETL iconStyle"></i>
					</div>
				<h4 class="theme-text">ETL Work Queue</h4>
				<div class="display-flex customToggleTabs">
					<input type="text" class="form-control search-input" style="margin-right:10px;" [(ngModel)]="sourceProfilesService.searchData" placeholder="Search.." (ngModelChange)="searchProfileData()">
					<md-button-toggle-group style="align-self:center;" name="profileStatus" #selectedProfileStatus="mdButtonToggleGroup" (change)="fetchSourceProfiles($event)">
						<md-button-toggle *ngFor="let status of statusList; let i=index" [value]="i" [checked]="i == 0 ? true : false">{{status}}</md-button-toggle>
					</md-button-toggle-group>
				</div>
			
			</div> -->

	<div class="gridView">
		<div>
			<!-- <p-accordion [multiple]="true" class="rule-group-recon" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant.length>0">
						<p-accordionTab [selected]="true">
							<p-header>
								<span>Profiles</span>
							</p-header>
							<div class="accordioncontenet"> -->
			<div class="profiles">
				<!-- <md-card> -->
					<div class="profile-list" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant.length>0">
						<md-tab-group class="prof-det matTabPainationStyle workquetabs" (focusChange)="loadContent($event)"[mode]="stacked" [selectedIndex]="selectedTab" dynamicHeight="true" fxFlex md-stretch-tabs>
							<md-tab *ngFor="let profile of sourceProfilesForTenant;let spInd=index;">
								<ng-template md-tab-label>
									<div class="display-flex mat-sml-btn ellipsis-text" style="width:100%;margin-right: 10px;justify-content:center;">
											<!-- style="padding:5px;width:350px;height:140px;overflow:hidden;" -->
										<div class="flex-column-center" style="overflow: hidden;">
											<!-- <button class="material-icons hand pull-left" style="color: green" md-icon-button *ngIf="selectedProfileStatus == '2' && profile.enabledFlag">
																<md-icon>check_circle</md-icon>
															</button>-->
											<!-- text-align:center;word-wrap:break-word;white-space:normal; -->
											<div class="display-flex">
												<h5 [ngClass]="{'profile-pad':spInd == selectedTab}" style="text-align:left;">
													<span class="ellipsis-text" mdTooltip="{{profile.sourceProfileName}}" matTooltipShowDelay="1000">{{profile.sourceProfileName}}</span>
												</h5>
												<i class="material-icons" *ngIf="selectedProfileStatus == '2' && !profile.enabledFlag">error</i>
											</div>
											<!-- text-align:center;word-wrap:break-word;white-space:normal; -->
											<span class="ellipsis-text">
												<img *ngIf="profile.connectionType == 'GOOGLE_DRIVE'" alt="google-drive" src="../../../content/images/Google-Drive-icon.png" style="width: 20px; height: 20px; margin-top: -4px;">
												<img *ngIf="profile.connectionType == 'DROP_BOX'" alt="drop-box" src="../../../content/images/Dropbox_Icon_2017.png" style="width: 20px; height: 20px; margin-top: -4px;">
												<img *ngIf="profile.connectionType == 'SFTP'" alt="sftp" src="../../../content/images/sftp.png" style="width: 20px; height: 20px; margin-top: -4px;">
												<!-- <i class="rec-font-connections" style="padding-right: 11px;" mdTooltip="Connection" style="width: 200px!important;"></i>  -->
												<span mdTooltip="{{profile.connectionName}}" matTooltipShowDelay="1000">{{profile.connectionName}}</span>
											</span>

											<!-- <div>
												<button *ngIf="spInd == selectedTab && (sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag ) && dataManagementWqService.fileTemplatesList && dataManagementWqService.fileTemplatesList.length>0"
												class="hand md-20" md-icon-button mdTooltip="More Actions" (click)="profileOptions(spInd)">
													<md-icon>more_vert</md-icon>
												</button>
											</div> -->
										</div>
										<!-- [ngClass]="{'show-more-options:nth-of-type(spInd)': spInd == selectedTab,'show-more-options': showProfileOptions == true}" -->
										<div *ngIf="spInd == selectedTab  && (sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag);"
										 class="more-actions">
											<button md-icon-button class="hand" (click)="viewProfileSchedules(sourceProfilesForTenant[selectedTab].id);loadProfileSchedules=true;templateNameForSchedulesDisplay=profile.sourceProfileName"
											 mdTooltip="Job Submissions">
												<md-icon>alarm</md-icon>
											</button>
											<button md-icon-button class="hand" (click)="extractNow('profile',null,null,null,null)" mdTooltip="Extract Now" *jhiHasAnyAuthority="['ETL_EXTRACT']">
												<i class="rec-font-data-extraction"></i>
											</button>
											<button md-icon-button class="hand" (click)="transformNow('profile',null,null,null,null)" mdTooltip="Transform Now" *jhiHasAnyAuthority="['ETL_TRANSFORM']" >
												<i class="rec-font-data-transformation" style="font-size:20px;"></i>
											</button>
											<button md-icon-button class="hand" (click)="schedule('profile');dataManagementWqService.loadScheduleContent=true"
											 mdTooltip="Schedule" *jhiHasAnyAuthority="['ETL_WQ_SCHEDULE']">
												<md-icon>date_range</md-icon>
											</button>
										</div>
									</div>
								</ng-template>
							</md-tab>
						</md-tab-group>
					</div>
				<!-- </md-card> -->
			</div>
			<span *ngIf="!sourceProfilesForTenant || sourceProfilesForTenant.length<=0">
				<i>No {{statusList[selectedProfileStatus]}} profiles found</i>
			</span>
			<!-- <md-card> -->
				<div class="etl-template template-to-prof-acc" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant.length>0">
					<md-accordion>
						<md-expansion-panel expanded="true">
							<md-expansion-panel-header>
								<md-panel-title>
									<span *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] &&sourceProfilesForTenant[selectedTab].sourceProfileName ">Templates for {{sourceProfilesForTenant[selectedTab].sourceProfileName}}</span>
								</md-panel-title>
							</md-expansion-panel-header>
					<!-- <p-accordion [multiple]="true" class="rule-group-recon templ-icon">
						<p-accordionTab selected="true">
							<p-header (click)="toggleHeader()">
								<span *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] &&sourceProfilesForTenant[selectedTab].sourceProfileName ">Templates for {{sourceProfilesForTenant[selectedTab].sourceProfileName}}</span>
							</p-header> -->
							<div class="display-flex" style="position:absolute;right:47px;top:8px;">
								<button md-icon-button mdTooltip="Show drop zone" (click)="showHideDropZone('OPEN')" *jhiHasAnyAuthority="['ETL_MANUAL']">
									<i class="material-icons" style="display:block;">cloud_upload</i>
								</button>

								<div *jhiHasAnyAuthority="['ETL_EXTRACT']">
									<button md-icon-button style="font-size:22px" (click)="extractNow('template',null,null,null,null)"
									mdTooltip="Extract Now" *ngIf="(dataManagementWqService.fileTemplatesList  && dataManagementWqService.fileTemplatesList .length ==1 )|| (dataManagementWqService.fileTemplatesList  && dataManagementWqService.fileTemplatesList .length >1 && showActions)">
										<i class="rec-font-data-extraction" style="display:block;"></i>
									</button>
								</div>

								<div *jhiHasAnyAuthority="['ETL_TRANSFORM']">
									<button md-icon-button style="font-size:24px" (click)="transformNow('template',null,null,null,null)"
									mdTooltip="Transform Now" *ngIf="(dataManagementWqService.fileTemplatesList  && dataManagementWqService.fileTemplatesList .length ==1 )|| (dataManagementWqService.fileTemplatesList  && dataManagementWqService.fileTemplatesList .length >1 && showActions)">
										<i class="rec-font-data-transformation" style="display:block;"></i>
									</button>
								</div>
								
								<div *jhiHasAnyAuthority="['ETL_WQ_SCHEDULE']">
									<button md-icon-button style="font-size:22px;" (click)="schedule('template');dataManagementWqService.loadScheduleContent=true"
									mdTooltip="Schedule" *ngIf="(dataManagementWqService.fileTemplatesList  && dataManagementWqService.fileTemplatesList .length ==1 )|| (dataManagementWqService.fileTemplatesList  && dataManagementWqService.fileTemplatesList .length >1 && showActions)">
										<i class="material-icons" style="display:block;">date_range</i>
									</button>
								</div>
								<!-- <i class="rec-font-data-extraction hand " style="font-size:22px;" (click)="extractNow('template',null,null,null,null)"
																 mdTooltip="Extract Now" *ngIf="showActions"></i> -->
								<!-- <i class="rec-font-data-transformation hand " style="font-size:22px;top: -28px;padding:0 15px;" (click)="transformNow('template',null,null,null,null)"
																 mdTooltip="Transform Now" *ngIf="showActions"></i>
																<i class="material-icons hand " style="top: -28px;font-size:22px;" (click)="schedule('template');dataManagementWqService.loadScheduleContent=true"
																 *ngIf="showActions" mdTooltip="Schedule">date_range</i> -->
								<!-- <button md-icon-button style="top: -24px;" class="hand md-36 pull-right" (click)="extractNow('template',null,null,null,null)"
																					 mdTooltip="Extract Now" *ngIf="showActions">
																						<i class="rec-font-data-extraction" style="font-size:20px;"></i>
																					</button>
																					<button md-icon-button style="top: -24px;" class="hand md-36 pull-right" (click)="transformNow('template',null,null,null,null)"
																					 mdTooltip="Transform Now" *ngIf="showActions">
																						<i class="rec-font-data-transformation" style="font-size:20px;"></i>
																					</button>
																					<button md-icon-button style="top: -24px;" class="hand md-36 pull-right" (click)="schedule('template');dataManagementWqService.loadScheduleContent=true"
																					 *ngIf="showActions" mdTooltip="Schedule">
																						<md-icon>date_range</md-icon>
																					</button> -->
							</div>

							<!-- <div class="accordioncontenet"> -->

								<div>
									<div class="ETLJobsDialog">
										<p-dialog header="Schedule" [resizable]="false" [responsive]="true" [(visible)]="dataManagementWqService.loadScheduleContent"
										 [modal]="true">
											<div class="display-flex" *ngIf="showBatchHeaderActions ==false && showBatchActions==false">
												<div [ngClass]="schedulingObj.programName=='DataExtraction' ? 'col-md-11' : 'col-md-12'" style="padding:0px">
													<md-select placeholder="Process" [style.width]="'100%'" [(ngModel)]="schedulingObj.programName" [ngModelOptions]="{standalone: true}">
														<md-option *ngFor="let program of programmeList" [value]="program">{{program}}</md-option>
													</md-select>
												</div>

												<md-checkbox class="etl-wq-checkbox"  style="margin-top:23px;padding-left:20px;" mdTooltip="Transform Immediately" (change)="checkTransformImmediately($event)" 
												[(ngModel)]="schedulingObj.parameters[schedulingObj.parameters.length -1].selectedValue"
												 [ngModelOptions]="{standalone: true}" *ngIf="schedulingObj.programName=='DataExtraction'">
												</md-checkbox>
											</div>
											<div class="etl-schdl-main " style="padding-top: 10px;">
												<scheduling [basicInfo]="schedulingObj" (changeDisplay)="hideDialog($event)"></scheduling>
											</div>
										</p-dialog>
									</div>


									<div>


										<!-- <button md-icon-button class="pull-right  md-36" aria-hidden="true" mdTooltip="Hide Dropzone" (click)="hideDropZone()" *ngIf="!hideDZone && (sourceProfilesForTenant[selectedTab].enabledFlag )">
                                                        <md-icon>keyboard_arrow_right</md-icon>
                                                    </button>
                                                    <button md-icon-button class="pull-right  md-36" aria-hidden="true" mdTooltip="Show Dropzone" (click)="hideDropZone()"
                                                     *ngIf="hideDZone && (sourceProfilesForTenant[selectedTab].enabledFlag )">
                                                        <md-icon>keyboard_arrow_left</md-icon>
                                                    </button> -->

										<!-- <i class="material-icons hand" *ngIf="!hideDropZoneToggler" mdTooltip="Drop Zone" style="position:absolute;right:5px;" (click)="showHideDropZone('OPEN')">chevron_left</i> -->
										<div class="etl-templ list-table" id="list-table">
											<p-dataTable [value]="dataManagementWqService.fileTemplatesList " scrollable="true" [responsive]="true" [rows]="10" scrollHeight="300px"   reorderableColumns="true" columnResizeMode="expand" resizableColumns="true"  [editable]="false">

												<p-column [style]="{'width':'2%', 'text-align':'center'}" header="" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag 
												&& displayTemplateCheckbox && dataManagementWqService.fileTemplatesList.length>1">
													<ng-template let-template let-row="rowData" let-rowIndex="rowIndex" pTemplate="header">

														<md-checkbox class="etl-wq-temp-check-all etl-wq-checkbox" [(ngModel)]="selectedAll" (change)="selectAll();" [ngModelOptions]="{standalone: true}">

														</md-checkbox>
													</ng-template>
													<ng-template let-template let-row="rowData" let-rowIndex="rowIndex" pTemplate="body">
														<md-checkbox class="etl-wq-checkbox"  [(ngModel)]="row['selected']" (change)="checkIfAllSelected();" [ngModelOptions]="{standalone: true}" 
														*ngIf="row['templateStatus'] == 'Active' && !row['hold'] ||row['hold'] === '0'">
														</md-checkbox>
													</ng-template>
												</p-column>
												<p-column [style]="{'width':'20%'}"  field="templateName" header="Template Name" [sortable]="true">
													<ng-template let-template let-row="rowData" let-rowIndex="rowIndex" pTemplate="body">
														<span (click)="fetchBatchHeadersList(row['SPAid'],'template')">{{row['templateName']}}</span>
													</ng-template>

												</p-column>
												<p-column *ngFor="let template of templateDetailsColumnsList" [style]="{'width': template.width}" [field]="template.field" [header]="template.header" (mouseover)="mouseOverTemplate=ind"
												 (mouseleave)="mouseOverTemplate=-1" [sortable]="true" [editable]="false">
													<ng-template let-row="rowData">
														<span *ngIf=" row[template.field] != 'Active' && row[template.field] != 'Inactive'">{{row[template.field] }}</span>
													</ng-template>
												</p-column>
												<p-column [style]="{'width':'20%'}" field="hold" header="Hold Reason">
													<ng-template let-col let-row="rowData" pTemplate="body">
														<span *ngIf="row[col.field] || (!row[col.field] && row['holdReason'])">{{row['holdReason']}}</span>
													</ng-template>
												</p-column>
												<p-column [style]="{'width':'10%'}" field="templateStatus" header="Status">
													<ng-template let-col let-row="rowData" pTemplate="body">
															<div style="display:flex;justify-content: space-between;">
																<div>
																		<i *ngIf=" row[col.field] == 'Active' " mdTooltip ="Active" style="color: darkgray" class="material-icons hand">check_circle</i>
																		<i *ngIf=" row[col.field] == ' Inactive' || row[col.field] == 'Inactive'" mdTooltip ="Inactive" style="color: red" class="material-icons hand"
																		 aria-hidden="true">error</i>
																</div>
																	<div class="icons-list" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag">
																		<button md-icon-button class="hand md-20  editIcon" (click)="unHoldTemplate(row['SPAid'],row['holdReason'])" mdTooltip="Release Hold"	*ngIf="(row['hold'] && row['hold']==true )&& (row['templateStatus']=='Active') ">
																		   <md-icon>play_arrow</md-icon>
																	   </button>
																	   
																	   <ng-container *jhiHasAnyAuthority="['ETL_HOLD']" style="padding-right: 3px;">
																	   <button md-icon-button style="margin-top: 3px;" (click)="holdTemplate(row['SPAid'],row['holdReason']);" mdTooltip="Hold Template"	*ngIf="(!row['hold'] || row['hold']==false  )&& (row['templateStatus']=='Active')">
																		   <md-icon>pause</md-icon>
																	   </button>
																	   </ng-container>
																	   <ng-container>
																	   <button md-icon-button style="margin-top: 3px;" (click)="viewSchedules(sourceProfilesForTenant[selectedTab].id, row['templateId'],i);loadProfileSchedules=true;templateNameForSchedulesDisplay=row['templateName']"
																		mdTooltip="Job Submissions">
																		   <md-icon>alarm</md-icon>
																	   </button>
																	</ng-container>
																	</div>
																	</div>
														
													</ng-template>
												</p-column>
												
												<!-- <p-column [style]="{'width':'15%'}" header="Actions" (mouseover)="actionsForTemplate($event)" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag">
													<ng-template let-template let-i="rowIndex" let-row="rowData" pTemplate="body" ng-mouseover="mouseOverTemplate = i">
											
													</ng-template>
												</p-column> -->

											</p-dataTable>
										</div>
										<div class="ETLWQDialog" *ngIf="loadProfileSchedules==true && profileSchedulesList && profileSchedulesList.length>0">
											<p-dialog header="Schedules {{templateNameForSchedulesDisplay}}" [resizable]="false" [responsive]="true" [(visible)]="profileSchedulesList"
											 [modal]="true" (onHide)="loadProfileSchedules=false;emptySchedules()">
												<div class="row" *ngIf="!profileSchedulesList || profileSchedulesList.length<=0">
													No schedules
												</div>
												<div *ngIf="profileSchedulesList && profileSchedulesList.length>0">
													<p-dataTable [value]="profileSchedulesList" scrollable="true" scrollHeight="calc(100vh - 330px)" reorderableColumns="true" columnResizeMode="expand"
													 resizableColumns="true" [responsive]="true" *ngIf="profileSchedulesList && profileSchedulesList.length>0">
														<p-column *ngFor="let scheduleHeader of scheduleListColumns" [field]="scheduleHeader.field" [header]="scheduleHeader.header"
														 [style]="{'width':scheduleHeader.width}" [sortable]="true" [editable]="false">
														</p-column>
														<p-column header="Frequency Details" [style]="{'width':'25%'}" styleClass="left" [sortable]="true">
															<ng-template let-row="rowData" pTemplate="body">
																<span *ngIf="row.type == 'ONDEMAND'">-</span>
																<span *ngIf="row.date">{{row.date | date : 'MMMM d, y'}}</span>
																<span *ngIf="row.time">{{properTime(row.time) | date : 'h:mm:ss a'}}</span>
																<span *ngIf="row.month?.length && row.type != 'ONETIME'">({{row.month}})</span>
																<span *ngIf="row.weekDay?.length">({{row.weekDay}})</span>
															</ng-template>
														</p-column>
														<!-- <p-column *ngFor="let col of scheduleListColumns" [field]="col.field" [header]="col.header" [style]="{'width':col.width,'text-align':'left'}"
																					 [sortable]="true" [editable]="false">
																					</p-column> -->
														<!-- <p-column [style]="{'width':'100px', 'text-align':'center'}" field="Actions" header="Actions" [sortable]="true" [editable]="true"
																			 frozen="true">
																				<ng-template let-row="rowData" let-i="rowIndex" pTemplate="body">

																				</ng-template>
																			</p-column> -->
													</p-dataTable>
												</div>
											</p-dialog>
										</div>

										<!-- 
																
																
																
												<table class="table" *ngIf="dataManagementWqService.fileTemplatesList">
													<thead>
														<tr>
															<th *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag">
																<md-checkbox class="etl-wq-temp-check-all" [(ngModel)]="selectedAll" (change)="selectAll();" [ngModelOptions]="{standalone: true}">
																</md-checkbox>
															</th>
															<th>Template Name</th>
															<th>Source Directory Path</th>
															<th>Local Directory Path</th>
															<th>Status</th>
															<th>Schedules</th>
															<th *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag">Actions</th>
														
														</tr>
													</thead>
													<tbody>
														<tr *ngFor="let template of dataManagementWqService.fileTemplatesList ;let ind=index;" (mouseover)="mouseOverTemplate=ind"
														 (mouseleave)="mouseOverTemplate=-1">
															<td *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag">
																<md-checkbox [(ngModel)]="template.selected" (change)="checkIfAllSelected();" [ngModelOptions]="{standalone: true}" *ngIf="template.templateStatus == 'Active' && !template.hold">
																</md-checkbox>
															</td>
															<td>{{template.templateName}}</td>
															<td>{{template.sourceDirectoryPath}}</td>
															<td>{{template.localDirectoryPath}}</td>
															<td>
																<button md-icon-button class="md-36" mdTooltip="Active" *ngIf="template.templateStatus == 'Active'">
																	<md-icon>check_circle</md-icon>
																</button>
																<button md-icon-button class="md-36" mdTooltip="Inactive" *ngIf="template.templateStatus == 'InActive'">
																	<md-icon>error</md-icon>
																</button>
															</td>
															<td>
																<i class="material-icons hand" *ngIf="mouseOverTemplate == ind" (click)="viewSchedules(sourceProfilesForTenant[selectedTab].id,template.templateId,ind);loadSchedules=true">alarm</i>
																<div class="ETLWQDialog">
																	<p-dialog header="Schedules" [resizable]="true" [responsive]="true" [(visible)]="loadSchedules" [modal]="true" (onHide)="loadSchedules=false">
																		<div class="row" *ngIf="!schedulesList || schedulesList.length<=0">
																			No schedules
																		</div>
																		<div class="row" *ngIf="schedulesList && schedulesList[ind] && schedulesList[ind].length>0">
																			<p-dataTable [value]="schedulesList[ind]" scrollable="true" scrollHeight="500px" reorderableColumns="true" columnResizeMode="expand"
																			 selectionMode="multiple" [rows]="10" [responsive]="true" *ngIf="schedulesList && schedulesList[ind] && schedulesList[ind].length>0">
																				<p-column *ngFor="let col of scheduleListColumns" [field]="col.field" [header]="col.header" [style]="{'width':col.width,'text-align':'left'}"
																				 [sortable]="true" [editable]="true">
																				</p-column>
																				<p-column [style]="{'width':'100px', 'text-align':'center'}" field="Actions" header="Actions" [sortable]="true" [editable]="true"
																				 frozen="true">
																					<ng-template let-row="rowData" let-i="rowIndex" pTemplate="body">

																					</ng-template>
																				</p-column>
																			</p-dataTable>
																		</div>
																	</p-dialog>
																</div>
															</td>
																<td>{{template.status}}</td>
															<td *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag">
																<i class="fa fa-pause hand" aria-hidden="true" *ngIf="!template.hold && template.templateStatus == 'Active' && mouseOverTemplate == ind"
																 (click)="holdTemplate(template.spaid);" mdTooltip="Hold Template"></i>
																<i class="fa fa-play-circle hand" aria-hidden="true" *ngIf="template.hold && template.templateStatus == 'Active' && mouseOverTemplate == ind"
																 (click)="unHoldTemplate(template.spaid)" mdTooltip="UnHold Template"></i>
															</td>
														</tr>
													</tbody>
												</table> -->
										<!-- <button md-icon-button class="pull-right  md-36" aria-hidden="true" mdTooltip="Hide dropzone" (click)="hideDropZone()" *ngIf="!hideDZone">
															<md-icon>keyboard_arrow_right</md-icon>
														</button>
														<button md-icon-button class="pull-right  md-36" aria-hidden="true" mdTooltip="Unhide dropzone" (click)="hideDropZone()"
														 *ngIf="hideDZone">
															<md-icon>keyboard_arrow_left</md-icon>
														</button> -->
										<!-- 		<button md-icon-button class="pull-right md-36" [mdTooltip]=hideDropZoneVar (click)="hideDropZone()">
										<md-icon>view_list</md-icon>
									</button>
									 -->
									</div>
								</div>

								<!-- <div [class]="dropZoneWidthClass" *ngIf="dropZoneWidthClass  && (sourceProfilesForTenant[selectedTab].enabledFlag )">
														<md-card style="height: 176px">
															<div style="padding:10px;">
																<div ng2FileDrop [ngClass]="{'nv-file-over': hasBaseDropZoneOver}" (fileOver)="fileOverBase($event)" (onFileDrop)="onFileDrop($event)"
																 (click)="singleFile.click()" [uploader]="uploader" class="well my-drop-zone hand" mdTooltip="Click or Drop Files Here">
																	<i class="material-icons cloudupload" *ngIf=!enableLineInfo>cloud_upload</i>
																	<i class="material-icons cloudsuccess" *ngIf=enableLineInfo>cloud_done</i>
																</div>
																<input type="file" ng2FileSelect [uploader]="uploader" #singleFile #file (change)="fileChange(file)" style="display: none;"
																/> -->

								<div class="ETLWQDialog" *ngIf="dataManagementWqService.loadCreateTemplateForm && remoteValue == 'create'">
									<p-dialog header="" [resizable]="true" [responsive]="true" [(visible)]="dataManagementWqService.loadCreateTemplateForm" [modal]="true">
										<jhi-file-templates-edit [createFromRemoteArea]="remoteValue"></jhi-file-templates-edit>
									</p-dialog>
								</div>


								<div class="ETLWQDialog" *ngIf="dataManagementWqService.showMatchedTemplates && dataManagementWqService.matchedTemplates && dataManagementWqService.matchedTemplates.length>0">
									<p-dialog header="Matched Templates" [resizable]="true" [responsive]="true" [(visible)]="dataManagementWqService.showMatchedTemplates"
									 [modal]="true" (onHide)="emptyQueue();dataManagementWqService.showMatchedTemplates=false">
										<button md-icon-button class="pull-right  md-36 editIcon" (click)="dataManagementWqService.loadCreateTemplateForm = true;remoteValue= 'create'"
										 mdTooltip="Create New Template">
											<md-icon>add</md-icon>
										</button>
										<br>
										<ng-template ngFor let-temp [ngForOf]="dataManagementWqService.matchedTemplates" let-mTempInd="index" ;>
											<p-accordion [multiple]="true">
												<p-accordionTab [selected]="false" (mouseover)="mouseOnMatchedTemp = mTempInd" (mouseleave)="mouseOnMatchedTemp=-1">
													<p-header>
														<span *ngIf="temp[1]" (click)="fetchTemplateDetails(temp[0])">{{temp[1]}}</span>
														<button class="material-icons hand pull-right editIcon" md-icon-button mdTooltip="Proceed Process" *ngIf="mouseOnMatchedTemp == mTempInd"
														 (click)="proceedForExtraction(temp[2])">
															<md-icon>send</md-icon>
														</button>
													</p-header>
													<div class="accordioncontenet" style="height: 240px;" *ngIf="showTemplateDetail">
														<jhi-file-templates-edit [createFromRemoteArea]="remoteValue"></jhi-file-templates-edit>
													</div>
												</p-accordionTab>
											</p-accordion>
										</ng-template>
									</p-dialog>
								</div>
								<!-- Last Dialog Placed Here -->
									</md-expansion-panel>
								</md-accordion>
							</div>
						<!-- </p-accordionTab>
					</p-accordion> -->
				</div>
			<!-- </md-card> -->
		</div>

	<!-- <md-card> -->
	<div class="etl-batch">
	<md-accordion *ngIf="sourceProfilesForTenant && sourceProfilesForTenant.length>0">
		<md-expansion-panel expanded="true">
			<md-expansion-panel-header>
				<md-panel-title>Batch Details</md-panel-title>
			</md-expansion-panel-header>
	<!-- <p-accordion *ngIf="sourceProfilesForTenant && sourceProfilesForTenant.length>0">
		<p-accordionTab header="Batch Details" selected="true"> -->
			<div class="mat-card-padding profiles batch-details">
					<!-- <p-accordion [multiple]="true" class="rule-group-recon" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant.length>0">
									<p-accordionTab [selected]="true">
										<p-header>
											<span>Batch history</span>
										</p-header>
										<div class="accordioncontenet profiles" style="padding-top:10px;"> -->
					<div class="flex-end radio-xs-btn">
						
						<div class="display-flex">
					
							<div class="etl-batch-search" *ngIf="batchData && batchData.length>1">
								<input type="text" required [(ngModel)]="sourceProfilesService.searchBatchData" placeholder="Search.." [disabled]="!batchData || batchData.length<=0" class="form-control search-input mr-1">
								<!-- <input type="text" class="input-search" style="border:none;" required [(ngModel)]="sourceProfilesService.searchData" placeholder="Search"
								 [ngModelOptions]="{standalone: true}" (ngModelChange)="searchData()">
								<input type="search" placeholder="Search" class="" [(ngModel)]="dataManagementWqService.searchData" (keyup.enter)="searchData();"> -->
							</div>
							<button md-icon-button mdTooltip="Refresh Batches" (click)="refreshBatchData()" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && 
							sourceProfilesForTenant[selectedTab].enabledFlag">
								<i class="material-icons">loop</i>
							</button>
							<div *jhiHasAnyAuthority="['ETL_TRANSFORM']">
							<button *ngIf="(batchData && batchData.length ==1 ) || (batchData && batchData.length >1 && showBatchHeaderActions)" md-icon-button (click)="transformNow('batchHeader',null,null,null,null)" mdTooltip="Transform Now" >
								<i class="rec-font-data-extraction" style="font-size: 24px;"></i>
							</button>
							</div>

							<div *jhiHasAnyAuthority="['ETL_WQ_SCHEDULE']">
							<button *ngIf="(batchData && batchData.length ==1 ) || (batchData && batchData.length >1 && showBatchHeaderActions)"  md-icon-button (click)="schedule('batchHeader');dataManagementWqService.loadScheduleContent=true"
							 mdTooltip="Schedule">
								<i class="material-icons">date_range</i>
							</button>
							</div>
						</div>
					</div>

						<!-- <div class="col-md-2 col-sm-3 etl-filters" style="padding-top: 4px;">
													<md-accordion [multi]="true">
														<md-expansion-panel [expanded]="true" [selected]="true" (opened)="profilePanelOpenState = true" (closed)="profilePanelOpenState = false">
															<md-expansion-panel-header>
																<md-panel-title>
																	<b> Profile </b>
																</md-panel-title>
																<md-panel-description>
																		 All
																		</md-panel-description>
															</md-expansion-panel-header>
															<md-radio-group [(ngModel)]="viewAllBatches" layout="row" [ngModelOptions]="{standalone: true}" (change)="filterBysProfile()">
																<md-radio-button value="all">All</md-radio-button>
																<br>
																<md-radio-button value="selectedProfile">Selected Profile</md-radio-button>
															</md-radio-group>
														</md-expansion-panel>
														<md-expansion-panel [expanded]="false" [selected]="false" (opened)="batchPanelOpenState = true" (closed)="batchPanelOpenState = false"
														 *ngIf="!(viewBy == 'All' && batchData.length<=0)">
															<md-expansion-panel-header>
																<md-panel-title>
																	<b>Batch </b>
																</md-panel-title>
															</md-expansion-panel-header>
															<md-radio-group [(ngModel)]="viewBy" layout="row" [ngModelOptions]="{standalone: true}" (change)="fetchByViewOption()">
					
																<md-radio-button value="All" >All </md-radio-button>
																<br>
					
																<md-radio-button value="Fail" >Failed</md-radio-button>
																<br>
					
																<md-radio-button value="extracted" >Extracted</md-radio-button>
																<br>
					
																<md-radio-button value="transformed" >Transformed</md-radio-button>
																<br>
					
																<md-radio-button value="holded" >Holded</md-radio-button>
					
															</md-radio-group>
					
														</md-expansion-panel>
													</md-accordion>
												</div> -->
						<!-- <div class="row">
							<div class="col-md-12"> -->
								<div class=" etlwqTemplate">
										<div class="etl-radio-group display-flex" style="padding-top: 10px;">
												<div class="display-flex align-items-center">
													<label class="radio-label no-wrap">Pipeline : </label>
													<md-radio-group [(ngModel)]="viewAllBatches" layout="row" [ngModelOptions]="{standalone: true}" (change)="filterBysProfile()">
														<md-radio-button value="all">All</md-radio-button>
														<md-radio-button value="selectedProfile">Selected Profile</md-radio-button>
													</md-radio-group>
												</div>
												<div class="display-flex align-items-center" style="margin-left: 40px;">
													<label class="radio-label no-wrap">Batch : </label>
													<md-radio-group [(ngModel)]="viewBy" layout="row" [ngModelOptions]="{standalone: true}" (change)="fetchByViewOption()">
														<md-radio-button value="All">All </md-radio-button>
														<md-radio-button value="Fail">Failed</md-radio-button>
														<md-radio-button value="extracted">Extracted</md-radio-button>
														<md-radio-button value="transformed">Transformed</md-radio-button>
														<md-radio-button value="holded">On Hold</md-radio-button>
													</md-radio-group>
												</div>
											</div>
									<span style="padding-left: 20px;" *ngIf="(!batchData || batchData.length<=0 ) && viewAllBatches == 'selectedProfile' && sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] &&  sourceProfilesForTenant[selectedTab].sourceProfileName">
										No batches found for {{ sourceProfilesForTenant[selectedTab].sourceProfileName}}
									</span>
									<span  style="padding-left: 20px;"  *ngIf="(!batchData || batchData.length<=0 ) && viewAllBatches == 'all' ">
										No batches found
									</span>
									<p-dataTable [value]="batchData" reorderableColumns="true" scrollable="true" [responsive]="true" [rows]="10" columnResizeMode="expand"
									 resizableColumns="true" *ngIf="batchData && batchData.length>0">
										<p-column [style]="{'width':'3%', 'text-align':'center'}" header="" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && 
										sourceProfilesForTenant[selectedTab].enabledFlag && displayBatchCheckbox && batchData.length>1">
											<ng-template let-template let-row="rowData" let-rowIndex="rowIndex" pTemplate="header">
						
												<md-checkbox class="etl-wq-temp-check-all  etl-wq-checkbox" [(ngModel)]="selectAllBatches" (change)="selectAllBatchesList();"
												 [ngModelOptions]="{standalone: true}">
						
												</md-checkbox>
											</ng-template>
											<ng-template let-template let-row="rowData" let-rowIndex="rowIndex" pTemplate="body">
												<md-checkbox class="etl-wq-checkbox" [(ngModel)]="row['selected']" (change)="checkIfAllBatchesSelected();" [ngModelOptions]="{standalone: true}"
												 *ngIf="!row['transformationStatus'] && row['extractionStatusMeaning'] && !(row['extractionStatusMeaning'] === '0 file(s) - Extracted') && (!row['hold'] || row['hold'] === '0' )">
												</md-checkbox>
											</ng-template>
										</p-column>
										<p-column [style]="{'width':'20%', 'text-align':'left'}" field="batchName" header="Batch Name" [sortable]="true">
											<ng-template let-col let-row="rowData" let-i="rowIndex" pTemplate="body">
												<span class="hand" (click)="clearOtherPaginations();onRowSelect(i);" *ngIf=" row['extractionStatusMeaning'] && !(row['extractionStatusMeaning'] === '0 file(s) - Extracted')">{{row[col.field]}}</span>
												<span *ngIf=" !row['extractionStatusMeaning'] || ( row['extractionStatusMeaning'] &&  row['extractionStatusMeaning'] === '0 file(s) - Extracted')">{{row[col.field]}}</span>
												<!-- <a [routerLink]="['/file-templates', {outlets	: {'content': [row['id']]+'/details'}}]">{{row[col.field]}}</a> -->
											</ng-template>
										</p-column>
										<p-column [style]="{'width':'15%', 'text-align':'left'}" field="extractionStatusMeaning" header="Extracted Status" [sortable]="true">
											<ng-template let-col let-row="rowData" let-i="rowIndex" pTemplate="body">
												<span>{{row['extractionStatus']}}</span>
												<!-- <span class="badge badge-warning" *ngIf="!row[col.field] || row['extractionStatusMeaning'] === '0 file(s) - Extracted' ">{{row['extractionStatus']}}</span>
												<span class="badge badge-success" *ngIf="row[col.field] && !(row['extractionStatusMeaning'] === '0 file(s) - Extracted')">{{row[col.field]}}</span> -->
											</ng-template>
										</p-column>
										<p-column [style]="{'width':'15%', 'text-align':'left'}" field="extractedDateTime" header="Extracted Time" [sortable]="true">
												<ng-template let-col let-row="rowData" let-i="rowIndex" pTemplate="body">
													<span>{{row[col.field] | date:'medium' }}</span>
												</ng-template>
											</p-column>
										<p-column [style]="{'width':'20%', 'text-align':'left'}" field="transformationStatusMeaning" header="Transformed Status" [sortable]="true">
											<ng-template let-col let-row="rowData" let-i="rowIndex" pTemplate="body">
												<span>{{row[col.field]}}</span>
												<!-- <span [class]="batchStatusColor(row[col.field])">{{row[col.field]}}</span> -->
											</ng-template>
										</p-column>
										<p-column [style]="{'width':'15%', 'text-align':'left'}" field="transformedDateTime" header="Transformed Time" [sortable]="true">
											<ng-template let-col let-row="rowData" let-i="rowIndex" pTemplate="body">
												<span>{{row[col.field] | date:'medium' }}</span>
											</ng-template>
										</p-column>

										<!-- <p-column [style]="{'width':'100px', 'text-align':'center'}" field="batchName" header="Batch Name" [sortable]="true" [editable]="true"
																	 frozen="true">
																	  <ng-template let-row="rowData" let-i="rowIndex" pTemplate="body">
																	 <span><b (click)="onRowSelect(i);openBatchDetail=true">{{row[field]}}</b></span>
																	 </ng-template>
																	 </p-column> -->
										<p-column *ngFor="let col of batchHistoryColumns" [field]="col.field" [header]="col.header" [style]="{'width':col.width}"
										 [sortable]="true">
											<ng-template let-row="rowData" let-i="rowIndex" pTemplate="body">
												<span *ngIf="(col.field != 'extractedDateTime' && col.field != 'transformedDateTime'  ) && col.field != 'Actions'" (click)="fetchBatchDetailsByBatchId(i)">
													{{row[col.field]}}</span>
												<span *ngIf="(col.field == 'extractedDateTime' || col.field == 'transformedDateTime')  && col.field != 'Actions'">
													{{row[col.field] | date:'mediumDate' }} {{row[col.field] | date:'mediumTime' }}
												</span>
												<!-- <i class="fa fa-pause hand" aria-hidden="true" *ngIf="col.field == 'Actions' && (!row['hold'] || row['hold'] == false)" (click)="holdBatch(row.id);"
																						 mdTooltip="Hold Batch"></i>
																						<i class="fa fa-play-circle hand" aria-hidden="true" *ngIf="col.field == 'Actions' && ( row['hold'] || row['hold'] ==true)"
																						 (click)="releaseBatchHold(row.id)" mdTooltip="Release hold"></i> -->
											</ng-template>
										</p-column>
										<p-column [style]="{'width':'15%', 'text-align':'left'}" field="holdReason" header="Hold Reason" [sortable]="true">
											<ng-template let-col let-row="rowData" let-i="rowIndex" pTemplate="body">
												
												<div class="display-flex" *jhiHasAnyAuthority="['ETL_HOLD']">
													<div style="width:80%;padding-top: 7px">
													<span *ngIf="row['hold'] ||(!row['hold'] && row['holdReason'])" mdTooltip="{{row['holdReason']}}">{{row['holdReason']}}</span>
												</div>
												<div >
													<button md-icon-button class="hand md-20 tempActionButton editIcon" (click)="releaseBatchHold(row.id,row['holdReason'])" mdTooltip="Release Hold"
													 *ngIf="row['hold'] && row['hold']==true  && !row['transformationStatus'] && row['extractionStatusMeaning'] && !(row['extractionStatusMeaning'] === '0 file(s) - Extracted')">
														<md-icon>play_arrow</md-icon>
													</button>

													<div *jhiHasAnyAuthority="['ETL_HOLD']"  >
													<button md-icon-button class="hand md-20 tempActionButton editIcon" (click)="holdBatch(row.id,row['holdReason'])" mdTooltip="Hold Batch" 
													*ngIf="!row['hold'] || row['hold']==false && !row['transformationStatus'] && row['extractionStatusMeaning'] && !(row['extractionStatusMeaning'] === '0 file(s) - Extracted')">
														<md-icon>pause</md-icon>
													</button>
												</div>
													</div>
												</div>
											</ng-template>
										</p-column>
										<!-- <p-column [style]="{'width':'8%' }" header="Actions" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag">
											<ng-template let-template let-i="rowIndex" let-row="rowData" pTemplate="body" ng-mouseover="mouseOverTemplate = i">
												<div class="display-flex" *jhiHasAnyAuthority="['ETL_HOLD']">
													<button md-icon-button class="hand md-20 tempActionButton editIcon" (click)="releaseBatchHold(row.id)" mdTooltip="Release Hold"
													 *ngIf="row['hold'] && row['hold']==true  && !row['transformationStatus'] && row['extractionStatusMeaning'] && !(row['extractionStatusMeaning'] === '0 file(s) - Extracted')">
														<md-icon>play_arrow</md-icon>
													</button>

													<div *jhiHasAnyAuthority="['ETL_HOLD']"  >
													<button md-icon-button class="hand md-20 tempActionButton editIcon" (click)="holdBatch(row.id)" mdTooltip="Hold Batch" 
													*ngIf="!row['hold'] || row['hold']==false && !row['transformationStatus'] && row['extractionStatusMeaning'] && !(row['extractionStatusMeaning'] === '0 file(s) - Extracted')">
														<md-icon>pause</md-icon>
													</button>
													</div>
												</div>
											</ng-template>
										</p-column>
						 -->
									</p-dataTable>
									<md-paginator *ngIf="batchLength > 0" [length]="batchLength" [pageSize]="batchPageSize" [pageSizeOptions]="pageSizeOptions"
									 [pageIndex]="page" (page)="onSPaginateChange($event)">
									</md-paginator>
									<!-- 	<md-paginator *ngIf="batchLength > batchPageSize " [length]="batchLength" [pageSize]="batchPageSize" [pageSizeOptions]="pageSizeOptions"
																	 (page)="batchpageEvent = $event; fetchBatchHeadersList(sourceProfilesForTenant[selectedTab].id); ">
																	</md-paginator> -->
								</div>
							<!-- </div>
						</div> -->
						<!-- Dialog Placed Here -->
	
					<!--  <div class="ftlSearch">
												
											
										</div> -->
					<!-- </div> -->
					<!-- </p-accordionTab>
								</p-accordion> -->
			</div>
			</md-expansion-panel>
			</md-accordion>
		</div>
		<!-- </p-accordionTab>
	</p-accordion> -->
<!-- </md-card> -->

	<!-- *ngIf="dropZoneWidthClass  && (sourceProfilesForTenant[selectedTab].enabledFlag )" -->
	<div class="etl-drop-zone">
		<md-card>
			<div class="text-right">
				<i class="material-icons hand" (click)="showHideDropZone('HIDE')" mdTooltip="Close">close</i>
			</div>
			<!-- <div class="row localupload">DropZone</div>
							<br> -->
			<div style="padding:10px;">
				<div ng2FileDrop [ngClass]="{'nv-file-over': hasBaseDropZoneOver}" (fileOver)="fileOverBase($event)" (onFileDrop)="onFileDrop($event)"
				 (click)="singleFile.click()" [uploader]="uploader" class="well my-drop-zone hand" mdTooltip="Click or Drop Files Here">
					<i class="material-icons cloudupload" *ngIf=!enableLineInfo>cloud_upload</i>
					<i class="material-icons cloudsuccess" *ngIf=enableLineInfo>cloud_done</i>
				</div>
				<input type="file" ng2FileSelect [uploader]="uploader" #singleFile #file (change)="fileChange(file)" style="display: none;"
				/>
				<div class="row" style="margin-left: -8px !important;word-wrap: break-word;">
					<div class="col-md-9">
						<span *ngIf="uploader && uploader.queue && uploader.queue[0] && uploader.queue[0].file && uploader.queue[0].file.name">{{uploader.queue[0].file.name}}</span>
					</div>
					<div class="col-md-1"></div>
					<div class="col-md-2">
						<i *ngIf="spin" class="fa fa-spinner fa-spin" style="font-size: 24px"></i>
						<i *ngIf="uploadedIcon" class="fa fa-check" style="font-size: 20px"></i>
					</div>
				</div>
				<!-- <table class="table">
						<thead>
						</thead>
						<tbody>
							<tr *ngFor="let item of uploader.queue">
								<td class="text-center">
									<span *ngIf="item.isSuccess">
										<i class="glyphicon glyphicon-ok"></i>
									</span>
									<span *ngIf="item.isCancel">
										<i class="glyphicon glyphicon-ban-circle"></i>
									</span>
									<span *ngIf="item.isError">
										<i class="glyphicon glyphicon-remove"></i>
									</span>
								</td>
								<td (click)="showMatchedTemplates=true">
									<strong>{{ item?.file?.name }}</strong>
								</td>
								<td>
									<i *ngIf="spin" class="fa fa-spinner fa-spin" style="font-size: 24px"></i>
								</td>
								<td>
									<i *ngIf="uploadedIcon" class="fa fa-check" style="font-size: 24px"></i>
								</td>
								<td class="text-center"></td>
								<td class="text-center">
									<span *ngIf="item.isSuccess">
										<i class="glyphicon glyphicon-ok"></i>
									</span>
									<span *ngIf="item.isCancel"> </span>
									<span *ngIf="item.isError">
										<i class="glyphicon glyphicon-remove"></i>
									</span>
								</td>
								<td nowrap>
									<span *ngIf="item.isSuccess">success</span>
								</td>
								<td></td>
							</tr>
						</tbody>
					</table> -->
			</div>

			<div class="text-center" style="padding-bottom:10px;">
				<span>(or)</span>
			</div>

			<div class="text-center">

				<img style="position:relative;right:10px;cursor:pointer;" mdTooltip="Open Drive" alt="google-drive" src="../../../content/images/Google-Drive-icon.png"
				 height="40px" width="40px" (click)="onApiLoad()">
				<img style="position:relative;left:10px;cursor:pointer;" mdTooltip="Open Drop Box" alt="Open Drop Box" src="../../../content/images/Dropbox_Icon_2017.png"
				 height="40px" width="40px" (click)="selectFromDropBox()">
				<!-- <i class="rec-font-google-drive hand" mdTooltip="Open Drive" style="font-size: 24px" aria-hidden="true"  (click)="onApiLoad()" ></i> -->
				<!-- <i class="rec-font-drop-box hand" mdTooltip="Open Drop Box" style="font-size: 24px; padding-left: 14px;"  aria-hidden="true" (click)="selectFromDropBox()" ></i> -->
			</div>

		</md-card>

	</div>

	<div class="ETLWQDialog">
		<p-dialog [resizable]="false" [responsive]="true" [(visible)]="openBatchDetail" [modal]="true">
			<p-header>
				<span *ngIf="batchDetailsList && batchDetailsList[0] && batchDetailsList[0].batchHeaderName">{{batchDetailsList[0].batchHeaderName}} Details:</span>
			</p-header>
			<!-- <div class="pull-right row" *ngIf="showBatchActions"> -->
				<div class="row" style="margin-right: -10px;margin-left: 0px;">
					<div class="col-md-11">

					</div>
					<div class="col-md-1 display-flex" *ngIf=" (batchDetailsList && batchDetailsList.length==1) || (batchDetailsList && batchDetailsList.length>1 && showBatchActions)">
				
							<button md-icon-button class="hand md-36" (click)="transformNow('batchDetail',null,null,selectedBatch,null)" mdTooltip="Transform Now"  *jhiHasAnyAuthority="['ETL_TRANSFORM']">
								<i class="rec-font-data-transformation" style="font-size:20px;"></i>
							</button>
							
							
							<button md-icon-button class="hand md-36" (click)="schedule('batchDetail',null,null,selectedBatch,null)" mdTooltip="Schedule" *jhiHasAnyAuthority="['ETL_WQ_SCHEDULE']" >
								<md-icon>date_range</md-icon>
							</button>
							
						</div>
				</div>
				
			<!-- </div> -->
			<div class="etlwqTemplate list-table" id="list-table">
				<p-dataTable [value]="batchDetailsList" scrollable="true" [responsive]="true" [rows]="10" reorderableColumns="true" columnResizeMode="expand"
				 resizableColumns="true" [editable]="true" *ngIf="batchDetailsList && batchDetailsList.length>0" scrollHeight="calc(100vh - 330px)">
					<p-column [style]="{'width':'3%'}" header="" *ngIf="sourceProfilesForTenant && sourceProfilesForTenant[selectedTab] && sourceProfilesForTenant[selectedTab].enabledFlag && 
					batchDetailsList && batchDetailsList.length>1 && displayBatchDetailsCheckbox">
						<ng-template let-template let-row="rowData" let-rowIndex="rowIndex" pTemplate="header">

							<md-checkbox class="etl-wq-temp-check-all etl-wq-checkbox" [(ngModel)]="BHselectedAll" (change)="selectAllBatchDetailsList();"
							 [ngModelOptions]="{standalone: true}">

							</md-checkbox>
						</ng-template>
						<ng-template let-template let-row="rowData" let-rowIndex="rowIndex" pTemplate="body">
							<md-checkbox class="etl-wq-checkbox" [(ngModel)]="row['selected']" (change)="checkIfAllbatchDetailsSelected();" [ngModelOptions]="{standalone: true}"
							 *ngIf="(!row['hold'] || row['hold'] === '0')&& row['status'] != 'LOADED'">
							</md-checkbox>
						</ng-template>
					</p-column>


					<p-column field="fileName" header="File Name" [style]="{'width':'40%'}" [sortable]="true">
						<ng-template let-col let-row="rowData"  let-i="rowIndex"  pTemplate="body">
						
							<div  style="margin-left:5%;">
								<!-- <span style="display:block">{{row[col.field]}}</span> -->
								<span style="display:block" class="hand" (click)="fetchLinesBySrcFileInb('fileName',sourceProfilesForTenant[selectedTab].id,row['idForDisplay'],row['fileName'],
														row['srcInbHistId'],i,row['status']);loadLinesForSelectedFile=true;linesStatusFilter='Fail';selectedFileName =row['fileName'];"
								 *ngIf="col.field == 'fileName' && row['status']!= 'Extracted' && +row['lineCount'] >0">{{row[col.field]}}</span>
						
								<span style="display:block" *ngIf="col.field == 'fileName' && row['status']== 'Extracted'">{{row[col.field]}}</span>
						
								<span style="display:block" *ngIf="col.field == 'fileName' && row['status']!= 'Extracted' && +row['lineCount'] == 0">{{row[col.field]}}</span>
								<!-- <span class="badge badge-success" style="border-radius:9px;background-image: linear-gradient(180deg, #40d47e 0, #2ecc71 100%)" *ngIf="row['status'] && (row['status'].toString().toLowerCase().search('fail') == -1)">
									{{row['statusMeaning']}}</span>
								<span class="badge badge-danger" style="border-radius:9px;background-image: linear-gradient(180deg, #dc6c69 0, #f6716d 100%)" *ngIf="row['status'] && row['status'].toString().toLowerCase().search('fail') != -1">
									{{row['statusMeaning']}}</span> -->
							</div>
						
							<!-- <a [routerLink]="['/file-templates', {outlets	: {'content': [row['id']]+'/details'}}]" >{{row[col.field]}}</a> -->
						</ng-template>
					</p-column>

					<p-column *ngFor="let batchDetail of batchDetailColumnList" [field]="batchDetail.field" [header]="batchDetail.header" [style]="{'width':batchDetail.width,'text-align':batchDetail.align}"
					 [sortable]="true">
						<ng-template let-row="rowData" let-i="rowIndex" pTemplate="body">
							
							<span *ngIf="batchDetail.field == 'lineCount'" style="font-weight: bold">	{{row[batchDetail.field]}}
								<span style="color:rgb(0, 219, 0);font-size: 10px;text-align: right" *ngIf="row['status'] && row['status'].toString().search('Fail') != -1 &&
								 +row['success_lines_count']>0">Success - {{row['success_lines_count']}}</span>
								<span style="color:red;font-size: 10px;text-align: right" *ngIf="row['status'] && row['status'].toString().search('Fail') != -1 && +row['fail_lines_count']>0">
									Failed -{{row['fail_lines_count']}}</span>
							
							</span>							

							<span *ngIf="batchDetail.field != 'fileName' && batchDetail.field != 'fileTransformedDate' && batchDetail.field != 'lineCount' && batchDetail.field != 'holdReason'">
								{{row[batchDetail.field]}}</span>

							<span *ngIf="batchDetail.field == 'fileTransformedDate'">{{row[batchDetail.field] | date:'mediumDate' }}</span>

							<div style="display:flex;justify-content: space-between;"  *ngIf="batchDetail.field == 'holdReason'">
									<div style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;margin-top: 8px;">{{row[batchDetail.field]}}</div>
									<div class="icons-list">
											<div *jhiHasAnyAuthority="['ETL_HOLD',ETL_TRANSFORM]">
													<button md-icon-button class="tempActionButton editIcon" (click)="holdBatchDetail(row['srcInbHistId'],row['holdReason'])" mdTooltip="Hold" 
													 *ngIf="( row['hold'] == false || row['hold'] == 0 ) && row['status'].toString().toLowerCase().search('load') == -1">
														<md-icon>pause</md-icon>
													</button>
														</div>
													<button md-icon-button class="tempActionButton editIcon" (click)="releaseBatchDetailHold(row['srcInbHistId'],row['holdReason']);" mdTooltip="Release Hold"
													  *ngIf="( row['hold'] == true || row['hold'] == 1 ) &&  row['status'].toString().toLowerCase().search('load') == -1">
														<md-icon>play_arrow</md-icon>
													</button>
													<button md-icon-button class="tempActionButton editIcon" (click)="deleteAllLines(row['srcInbHistId'])" mdTooltip="Clear file data"
													  *ngIf="row['status'] == 'Transformation Failed'">
														<md-icon>delete</md-icon>
													</button>
													<button md-icon-button class="hand" (click)="forceTransform(row['srcInbHistId'])" mdTooltip="Force Transform"  
													*ngIf=" +row['success_lines_count'] >0 && +row['fail_lines_count']==0 && row['status'] && row['status'].toString().toLowerCase().search('fail') != -1">
															<i class="rec-font-data-transformation" style="font-size:20px;"></i>
													</button>
									</div>
								</div>

						</ng-template>
						<!-- <ng-template let-i="rowIndex" let-row="rowData" pTemplate="body" *ngIf="batchDetail.field == 'Actions' ">
							<div class="display-flex justify-content-center">
								<div *jhiHasAnyAuthority="['ETL_HOLD',ETL_TRANSFORM]">
								<button md-icon-button class="tempActionButton editIcon" (click)="holdBatchDetail(row['srcInbHistId'])" mdTooltip="Hold" 
								 *ngIf="( row['hold'] == false || row['hold'] == 0 ) && row['status'].toString().toLowerCase().search('load') == -1">
									<md-icon>pause</md-icon>
								</button>
									</div>
								<button md-icon-button class="tempActionButton editIcon" (click)="releaseBatchDetailHold(row['srcInbHistId']);" mdTooltip="Release Hold"
								  *ngIf="( row['hold'] == true || row['hold'] == 1 ) &&  row['status'].toString().toLowerCase().search('load') == -1">
									<md-icon>play_arrow</md-icon>
								</button>
								<button md-icon-button class="tempActionButton editIcon" (click)="deleteAllLines(row['srcInbHistId'])" mdTooltip="Clear file data"
								  *ngIf="row['status'] == 'Transformation Failed'">
									<md-icon>delete</md-icon>
								</button>
								<button md-icon-button class="hand" (click)="forceTransform(row['srcInbHistId'])" mdTooltip="Force Transform"  *ngIf=" +row['success_lines_count'] >0 && +row['fail_lines_count']==0 && row['status'] && row['status'].toString().search('Fail') != -1">
										<i class="rec-font-data-transformation" style="font-size:20px;"></i>
								</button>
							</div>
						</ng-template> -->
					</p-column>
				</p-dataTable>
			</div>
			<p-footer>
				<md-paginator *ngIf="batchDetailLength > 0" [length]="batchDetailLength" [pageSize]="batchDetailPageSize" [pageSizeOptions]="pageSizeOptions"
				 [pageIndex]="batchDetailPage" (page)="onBatchDetailPaginateChange($event)">
					<!-- (page)="batchDetailPageEvent = $event;fetchBatchDetailsByBatchId(indexToFetchBatchDetail)"> -->
				</md-paginator>
			</p-footer>
		</p-dialog>
	</div>

	<div class="lines" *ngIf="linesListBasedOnFile && linesListBasedOnFile.length>0">

		<p-dialog [resizable]="false" [responsive]="true" [(visible)]="loadLinesForSelectedFile" [modal]="true">
			<p-header>
				<span style="word-break:break-word">Lines for {{selectedFileName}}</span>
				
			</p-header>

			<!-- <div class="row" *ngIf="multipleIdentifiers && multipleIdentifiers.length>0">
				<div class="col-md-12 col-sm-12 col-xs-12 tabsUnderLine">
					<md-tab-group (focusChange)="loadFileTemplateLine($event)" [selectedIndex]="selectedTabIndex">
						<md-tab *ngFor="let obj of multipleIdentifiers;let i =index">
							<ng-template md-tab-label>
								{{obj.rowIdentifier}}
			
							</ng-template>
							<div class="demo-tab-content">
							</div>
						</md-tab>
					</md-tab-group>
				</div>
			</div> -->

			<div class="etl-tabs">
				<md-tab-group (focusChange)="fetchLinesByRowId($event)" [selectedIndex]="selectedIdentifierIndex" *ngIf="multipleIdentifiers && multipleIdentifiers.length>0">
					<md-tab [disabled]="!obj.display" *ngFor="let obj of multipleIdentifiers;let i =index">
						<ng-template md-tab-label>
							{{obj.rowIdentifier}}

						</ng-template>
						<div class="demo-tab-content">

						</div>
					</md-tab>
				</md-tab-group>
				<div class="etlwqTemplate" style="padding-top:10px">
					<!-- <div  class="pull-right"> -->
					<div class="flex-end">
						<div class="display-flex">
								<div *jhiHasAnyAuthority="['ETL_TRANSFORM']">
										<button md-icon-button aria-hidden="true" mdTooltip="Update Lines" style="top:-10px" (click)="saveStagingLines();loadLinesForSelectedFile=true;"
										 *ngIf="stagingData && linesToUpdate &&  linesToUpdate.length>0">
											<md-icon>save</md-icon>
										</button>
										</div>
							<button md-icon-button style="margin-top: -10px;" (click)="deleteAllLines()" mdTooltip="Clear file data" id="showIcon" *ngIf="stagingData">
								<md-icon>delete_sweep</md-icon>
							</button>
							<md-radio-group [(ngModel)]="linesStatusFilter" (change)="filterLinesByStatus(sourceProfilesForTenant[selectedTab].id,selectedFilesTempId,selectedFileName,selectedSrcInbHistId,bhDetIndex)"
							 layout="row" [ngModelOptions]="{standalone: true}" *ngIf="stagingData">
								<md-radio-button value="Fail">Errored</md-radio-button>

								<md-radio-button value="Success">Success</md-radio-button>

								<md-radio-button value="All">All</md-radio-button>
							</md-radio-group>
						</div>
					</div>



					<p-dataTable [value]="linesListBasedOnFile" scrollable="true" reorderableColumns="true" scrollHeight="calc(100vh - 330px)" columnResizeMode="expand"
					 [rowStyleClass]="lookupRowStyleClass" resizableColumns="true" [rows]="10" [editable]="true" [responsive]="true"
					 *ngIf="linesListBasedOnFile && linesListBasedOnFile.length>0">

						<p-column *ngFor="let line of fileTemplateLineColumns" [field]="line.field" [header]="line.header" [style]="{'width': '200px'}">
							<ng-template let-row="rowData" pTemplate="body" *ngIf="line.field != 'Actions'">
								<md-input-container class="" *ngIf="line.field != 'recordStatus' && row['editable']==true">
									<input class="" mdInput [(ngModel)]="row[line.field]">
								</md-input-container>
								<span *ngIf="line.field != 'recordStatus'&& row['editable']==false ">{{row[line.field]}}</span>
								<i *ngIf="line.field == 'recordStatus' && row[line.field] == 'SUCCESS' " style="color: darkgray" class="material-icons hand">check_circle</i>
								<i *ngIf="line.field == 'recordStatus' && row[line.field] != 'SUCCESS' " style="color: red" class="material-icons hand" aria-hidden="true">error</i>
							</ng-template>
							<ng-template let-i="rowIndex" let-row="rowData" pTemplate="body" *ngIf="line.field == 'Actions' ">
								<div class="display-flex">
									<div *jhiHasAnyAuthority="['ETL_TRANSFORM']">
									<button md-icon-button class="tempActionButton" (click)="deleteLines(row['id'])" mdTooltip="Delete Line" id="showIcon" *ngIf=" row['recordStatus'] != 'SUCCESS'">
										<md-icon>delete</md-icon>
									</button>
									</div>
									
									<div *jhiHasAnyAuthority="['ETL_TRANSFORM']">
									<button md-icon-button class="tempActionButton" (click)="confirmAsSuccess(row,i)" mdTooltip="Proceed to Success" id="showIcon"
									 *ngIf=" row['recordStatus'] != 'SUCCESS'">
										<md-icon>done</md-icon>
									</button>
									</div>
								</div>



							</ng-template>
						</p-column>
					</p-dataTable>
				</div>
			</div>
			<p-footer>
				<md-paginator *ngIf="linesLength > 0 " [length]="linesLength" [pageSize]="linesPageSize" [pageSizeOptions]="pageSizeOptions"
				 [pageIndex]="linePage" (page)="onLinePaginateChange($event)">
				</md-paginator>
			</p-footer>
		</p-dialog>
	</div>

</div>
<!-- </div> -->